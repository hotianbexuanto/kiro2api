# ============================================================================
# kiro2api 环境配置
# ============================================================================
# 复制此文件为 .env 并根据需要修改配置

# ============================================================================
# 基础服务配置
# ============================================================================

# 服务端口（默认: 8080）
PORT=8080

# API认证密钥（必需）
# 用于访问 API 和管理界面
KIRO_CLIENT_TOKEN=your-secure-random-password

# Gin运行模式: debug, release, test（默认: release）
GIN_MODE=release

# ============================================================================
# 数据库配置
# ============================================================================

# SQLite 数据库路径（默认: ./data/kiro2api.db）
# KIRO_DB_PATH=./data/kiro2api.db

# ============================================================================
# Redis 缓存配置（可选，提升高并发性能）
# ============================================================================

# Redis 连接地址（不设置则使用内存缓存）
# REDIS_URL=localhost:6379

# ============================================================================
# 日志配置
# ============================================================================

# 日志级别: debug, info, warn, error（默认: info）
LOG_LEVEL=info

# 日志文件路径（可选，不设置则只输出到控制台）
# LOG_FILE=/var/log/kiro2api.log

# 控制台输出开关（默认: true）
# LOG_CONSOLE=true

# ============================================================================
# 限流配置
# ============================================================================

# 每秒请求数限制（默认: 50）
# RATE_LIMIT_QPS=50

# 突发请求数限制（默认: 100）
# RATE_LIMIT_BURST=100

# ============================================================================
# Token 管理
# ============================================================================
#
# Token 数据存储在 SQLite 数据库中，通过 Web UI 或 API 管理。
#
# 从 JSON 文件导入 Token：
#   ./kiro2api import ./auth_config.json
#
# JSON 文件格式示例：
# [
#   {"auth": "Social", "refreshToken": "your_token_here"},
#   {"auth": "IdC", "refreshToken": "token", "clientId": "id", "clientSecret": "secret"}
# ]
#
# 或新格式（包含分组和 API Keys）：
# {
#   "default_group": "default",
#   "api_keys": [{"key": "k2a_xxx", "name": "default"}],
#   "tokens": [...]
# }

# ============================================================================
# 最佳实践
# ============================================================================
#
# 1. 生产环境：
#    - 使用 GIN_MODE=release
#    - 设置强密码 KIRO_CLIENT_TOKEN
#    - 启用 Redis 缓存
#    - 设置 LOG_LEVEL=info 或 warn
#
# 2. 开发环境：
#    - 使用 GIN_MODE=debug
#    - 设置 LOG_LEVEL=debug
